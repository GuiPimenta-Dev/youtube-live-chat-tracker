[
    {
        "name": "Starter",
        "path": "./functions/starter",
        "description": "Start the process",
        "timeout": 60,
        "triggers": [
            {
                "service": "api_gateway",
                "trigger": "/starter",
                "method": "POST",
                "public": true
            }
        ],
        "invocations": [
            {
                "service": "sqs",
                "resource": "downloads_queue"
            }
        ]
    },
    {
        "name": "Downloader",
        "path": "./functions/downloader",
        "description": "Download a YouTube video and Stores it on S3",
        "timeout": 60,
        "triggers": [
            {
                "service": "sqs",
                "trigger": "downloads_queue"
            }
        ],
        "invocations": [
            {
                "service": "s3",
                "resource": "videos_bucket"
            },
            {
                "service": "dynamodb",
                "resource": "videos_table"
            },
            {
                "service": "sns",
                "resource": "videos_topic"
            }
        ]
    }
]